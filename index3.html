<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Urbanoise – Typographic Sphere (Surface)</title>

<style>
@import url('https://fonts.cdnfonts.com/css/cabinet-grotesk');
@import url('https://fonts.cdnfonts.com/css/satoshi');
@import url('https://fonts.cdnfonts.com/css/poppins');

:root{
  --bgA:#ffffff;
  --bgB:#f2f2f2;
  --fg:#0b0b0b;
  --muted:rgba(0,0,0,.55);
  --dotOff:rgba(0,0,0,.25);
  --dotOn:rgba(0,0,0,.85);
  --scale:1;
  --padX:0px;
  --font-logo:'Cabinet Grotesk', sans-serif;
  --font-h1:'Satoshi', sans-serif;
  --font-heading:'Satoshi', sans-serif;
  --font-nav:'Satoshi', sans-serif;
  --font-body:'Poppins', sans-serif;
  --font-small:'Poppins', sans-serif;
  --font-accent:'Tanker', sans-serif;
}
html,body{margin:0;padding:0;}
body{
  font-family: var(--font-body);
  background: radial-gradient(1200px 700px at 20% 20%, var(--bgB), var(--bgA));
  color:var(--fg);
  overflow-x:hidden;
}

/* WebGL */
.bg{position:fixed; inset:0; z-index:0; pointer-events:none;}
canvas{width:100%; height:100%; display:block;}

/* Status */
.status{
  position:fixed; top:48px; left:50%;
  transform:translateX(-50%);
  width:90%;
  padding:0;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:0;
  z-index:5; pointer-events:none;
  margin:0;
}
.status__item{
  min-width:0;
  display:flex; align-items:center; gap:10px;
  font-family:var(--font-nav);
  font-weight:500; font-size:clamp(13px,1.15vw,20px);
  letter-spacing:.1em; text-transform:uppercase;
  text-align:left;
}
.dot{width:18px; height:18px; border-radius:999px; background:var(--dotOff);}

@media (max-width:980px){
  .status{gap:0;}
  .status__item{font-size:clamp(12px,1.4vw,18px); letter-spacing:.08em;}
}
.status__item.is-active .dot{background:var(--dotOn);}
@media (max-width:900px){
  .status{flex-wrap:wrap; justify-content:center;}
}
@media (max-width:520px){
  .status{justify-content:flex-start;}
}

/* Sideways scroll */
.scroll-space{height:400vh;}
.rail{
  position:fixed; inset:0;
  width:400vw; height:100vh;
  display:flex; z-index:2;
}
.chapter{
  width:100vw; height:100vh; flex:0 0 100vw;
  display:grid; align-items:center;
  padding:clamp(32px,6vw,120px);
  position:relative;
}
.wrap{
  width:min(1200px, 92vw);
  max-width:1200px;
  display:grid;
  gap:18px;
}
.kicker{
  font-family:var(--font-small);
  font-weight:300;
  font-size:12px; letter-spacing:.22em;
  text-transform:uppercase; opacity:.6; margin:0;
}
h1{
  font-family:var(--font-h1);
  font-size:clamp(64px,8.5vw,150px);
  line-height:.92; letter-spacing:-0.04em;
  margin:0; font-weight:700;
  text-transform:uppercase; max-width:14ch;
  position:relative;
}
h2,h3{
  font-family:var(--font-heading);
  font-weight:500;
}
.subcopy{
  font-family:var(--font-body);
  font-weight:400;
  font-size:calc(20px * var(--scale));
  line-height:1.6;
  opacity:1;
  color:#000000;
  max-width:48ch;
  margin:0;
}

/* P2.5 slide panel */
.p25-panel{
  position:fixed;
  left:50%;
  top:50%;
  width:min(1120px, 86vw);
  height:min(740px, 78vh);
  transform:translate(-50%,-50%) translateX(var(--p25-x, 60vw)) scale(var(--p25-scale, 0.6));
  opacity:var(--p25-alpha, 0);
  background:#111111;
  border:1px solid rgba(255,255,255,0.14);
  overflow:hidden;
  z-index:4;
  pointer-events:none;
  will-change:transform,opacity;
}
.p25-panel img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
  transition:opacity .4s ease;
  opacity:1;
}
.p25-panel img.is-fading{opacity:0;}
@media (max-width:900px){
  .p25-panel{
    width:90vw;
    height:60vh;
  }
}
.logo{
  font-family:var(--font-logo);
  font-weight:800;
}
.accent{
  font-family:var(--font-accent);
  font-weight:400;
}

/* Slide layout variations */
.chapter:nth-child(1) .wrap{justify-self:start; text-align:left; transform:translateX(var(--padX));}
.chapter:nth-child(2) .wrap{justify-self:end; text-align:right; transform:translateX(calc(-1 * var(--padX)));}
.chapter:nth-child(2) h1{max-width:12ch;}
.chapter--p2 h1{
  margin-top:calc(-180px * var(--scale));
  font-size:calc(122px * var(--scale));
}
.chapter--p2 .subcopy{
  font-size:calc(25px * var(--scale));
  margin-top:calc(-180px * var(--scale));
  max-width:30ch;
  line-height:1.35;
  transform:translateX(calc(-360px * var(--scale)));
}
.chapter--p3 h1{
  margin-top:calc(-135px * var(--scale));
  text-align:right;
  font-size:calc(80px * var(--scale));
  transform:translateX(calc(-216px * var(--scale)));
}
.chapter--p3 .subcopy{
  margin-top:calc(-405px * var(--scale));
  max-width:30ch;
  line-height:1.35;
  transform:translateX(calc(-360px * var(--scale)));
  text-align: left;
}
.chapter--p4 h1{
  margin-top:calc(-180px * var(--scale));
  font-size:calc(122px * var(--scale));
}
.chapter--p4 .subcopy{
  color: #ffffff;
  margin-top:calc(-90px * var(--scale));
  max-width:30ch;
  line-height:1.35;
  transform:translateX(calc(-576px * var(--scale)));
}
.chapter:nth-child(3) .wrap{justify-self:center; text-align:center;}
.chapter:nth-child(4) .wrap{justify-self:start; text-align:left; margin-left:0; margin-right:0; transform:translateX(var(--padX));}
.chapter:nth-child(4) h1{max-width:12ch;}

/* Pillar 01 layout */
.chapter--p1 h1{
  margin-top:calc(-360px * var(--scale));
  font-size:calc(120px * var(--scale));
  font-weight: bold;
}
.chapter--p1 .subcopy{
  font-size:calc(20px * var(--scale));
  position:absolute;
  right:calc(0px * var(--scale));
  bottom:auto;
  top:50%;
  transform:translateY(0);
  text-align:right;
  max-width:45ch;
}

@media (max-width:900px){
  .chapter--p1 h1,
  .chapter--p2 h1,
  .chapter--p3 h1,
  .chapter--p4 h1{
    margin-top:0;
    transform:none;
    text-align:left;
  }
  .chapter--p1 .subcopy,
  .chapter--p2 .subcopy,
  .chapter--p3 .subcopy,
  .chapter--p4 .subcopy{
    margin-top:0;
    transform:none;
    position:relative;
    right:auto;
    top:auto;
    text-align:left;
  }
  .chapter--p1 .subcopy{max-width:48ch;}
}


</style>
</head>

<body>

<div class="bg"><canvas id="bgCanvas"></canvas></div>

<nav class="status">
  <div class="status__item is-active" data-i="0"><span class="dot"></span>FILM</div>
  <div class="status__item" data-i="1"><span class="dot"></span>PHOTOGRAPHY</div>
  <div class="status__item" data-i="2"><span class="dot"></span>MEDIA CAMPAIGNS</div>
  <div class="status__item" data-i="3"><span class="dot"></span>CONSULTING</div>
</nav>

<div class="rail" id="rail">
  <section class="chapter chapter--p1">
    <div class="wrap">
      <p class="kicker"></p>
      <p class="subcopy">Narrative-driven work with a cinematic backbone.<br>From concept to final cut, we focus on stories that feel intentional, human, and lasting — not disposable.</p>
      <h1>WE MAKE FILMS,<br>NOT CONTENT.</h1>
    </div>
  </section>
  <section class="chapter chapter--p2">
    <div class="wrap">
      <p class="kicker"></p>
      <p class="subcopy">Commercial, editorial, and artistic photography built around clarity and mood.
Every frame is composed to communicate — not decorate.</p>
      <h1 class="p2-title" id="p2Title">IMAGES THAT<br>CARRY WEIGHT.</h1>
    </div>
  </section>
  <section class="chapter chapter--p3">
    <div class="wrap">
      <p class="kicker"></p>
      <p class="subcopy">We design media campaigns that connect strategy, platforms, and audiences — without noise.
From launch concepts to long-tail distribution, everything is intentional.</p>
      <h1>IDEAS,STRUCTURED TO TRAVEL.</h1>
    </div>
  </section>
  <section class="chapter chapter--p4">
    <div class="wrap">
      <p class="kicker"></p>
      <p class="subcopy">Years in production become a practical compass that directs teams, budgets, and outcomes.</p>
      <h1>EXPERIENCE,<br>TURNED INTO DIRECTION.</h1>
    </div>
  </section>
</div>

<div class="p25-panel" id="p25Panel" aria-hidden="true">
  <img id="p25SlideImg" alt="">
</div>

<div class="scroll-space"></div>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>
<script>
/* =====================
   HELPERS
===================== */
const clamp=(v,a,b)=>Math.max(a,Math.min(b,v));
const lerp =(a,b,t)=>a+(b-a)*t;
const easeInOut=(t)=>t<0.5 ? 2*t*t : 1 - Math.pow(-2*t+2,2)/2;
const designW=1440;
const designH=900;
function updateScale(){
  const scale=Math.min(1, innerWidth/designW, innerHeight/designH);
  const padX=Math.max(0, (innerWidth - designW) / 2);
  document.documentElement.style.setProperty("--scale", scale.toFixed(3));
  document.documentElement.style.setProperty("--padX", `${padX.toFixed(0)}px`);
}
addEventListener("resize",updateScale);
updateScale();

/* =====================
   SIDEWAYS SCROLL
===================== */
const rail=document.getElementById("rail");
const dots=[...document.querySelectorAll(".status__item")];
const p25Panel=document.getElementById("p25Panel");
const p25SlideImg=document.getElementById("p25SlideImg");
const p25Images=[
  "Photos/Architektur_2.jpg",
  "Photos/Architektur_5.jpg",
  "Photos/Architektur_8.jpg"
];
let p25Idx=0;
let p25Timer=null;
let p25Active=false;
let targetY=0,smoothY=0,progress=0;
addEventListener("scroll",()=>targetY=scrollY,{passive:true});

function scrollLoop(){
  smoothY+=(targetY-smoothY)*0.08;
  const max=innerHeight*3;
  progress=clamp(smoothY/max,0,1);

  rail.style.transform=`translate3d(${-progress*innerWidth*3}px,0,0)`;

  const idx=Math.round(progress*3);
  dots.forEach(d=>d.classList.toggle("is-active",+d.dataset.i===idx));

  const darkT=clamp((progress-0.5)*2,0,1);
  document.documentElement.style.setProperty("--bgA",
    `rgb(${lerp(255,12,darkT)},${lerp(255,15,darkT)},${lerp(255,20,darkT)})`);
  document.documentElement.style.setProperty("--bgB",
    `rgb(${lerp(242,27,darkT)},${lerp(242,34,darkT)},${lerp(242,48,darkT)})`);
  document.documentElement.style.setProperty("--fg",darkT<0.5?"#0b0b0b":"#ffffff");
  document.documentElement.style.setProperty("--dotOff",darkT<0.5?"rgba(0,0,0,.25)":"rgba(255,255,255,.35)");
  document.documentElement.style.setProperty("--dotOn",darkT<0.5?"rgba(0,0,0,.85)":"#ffffff");

  if(p25Panel){
    const p25Start=0.24;
    const p25End=0.80;
    const p25HoldStart=0.35;
    const p25HoldEnd=0.72;
    const p25Visible=progress>=p25Start && progress<=p25End;
    const xRange=innerWidth*0.65;
    const p25T=clamp((progress-p25Start)/(p25End-p25Start),0,1);
    let x=xRange;
    let scale=0.6;
    let alpha=0;

    if(p25Visible){
      if(!p25Active) p25StartShow();
      if(p25T<=p25HoldStart){
        const t=easeInOut(p25T/p25HoldStart);
        x=lerp(xRange,0,t);
        scale=lerp(0.6,1.18,t);
        alpha=t;
      }else if(p25T<=p25HoldEnd){
        const t=easeInOut((p25T-p25HoldStart)/(p25HoldEnd-p25HoldStart));
        x=0;
        scale=lerp(1.18,1.08,t);
        alpha=1;
      }else{
        const t=easeInOut((p25T-p25HoldEnd)/(1-p25HoldEnd));
        x=lerp(0,-xRange,t);
        scale=lerp(1.08,0.6,t);
        alpha=lerp(1,0,t);
      }
    }else if(p25Active){
      p25StopShow();
    }

    p25Panel.style.setProperty("--p25-x",`${x.toFixed(0)}px`);
    p25Panel.style.setProperty("--p25-scale",scale.toFixed(3));
    p25Panel.style.setProperty("--p25-alpha",alpha.toFixed(3));
  }

  requestAnimationFrame(scrollLoop);
}
scrollLoop();

function p25NextImage(){
  if(!p25SlideImg || !p25Images.length) return;
  p25SlideImg.classList.add("is-fading");
  const next=p25Images[p25Idx];
  p25Idx=(p25Idx+1)%p25Images.length;
  p25SlideImg.onload=()=>p25SlideImg.classList.remove("is-fading");
  p25SlideImg.src=next;
}
function p25StartShow(){
  if(!p25Panel || !p25SlideImg || p25Active) return;
  p25Active=true;
  p25Panel.setAttribute("aria-hidden","false");
  p25NextImage();
  p25Timer=setInterval(p25NextImage,1800);
}
function p25StopShow(){
  p25Active=false;
  if(p25Panel) p25Panel.setAttribute("aria-hidden","true");
  clearInterval(p25Timer);
  p25Timer=null;
}

/* =====================
   WEBGL TYPO SPHERE (TEXTURE)
===================== */
const canvas=document.getElementById("bgCanvas");
const renderer=new THREE.WebGLRenderer({canvas,alpha:true,antialias:true});
renderer.setPixelRatio(Math.min(2,devicePixelRatio));

const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(45,1,0.1,100);
camera.position.set(0,1.4,6);

scene.add(new THREE.AmbientLight(0xffffff,0.6));
const key=new THREE.DirectionalLight(0xffffff,1.2);
key.position.set(4,6,5);
scene.add(key);

function resize(){
  renderer.setSize(innerWidth,innerHeight,false);
  camera.aspect=innerWidth/innerHeight;
  camera.updateProjectionMatrix();
}
addEventListener("resize",resize);
resize();

/* === IMAGE PLANE (LENS) === */
const lensTexture=new THREE.TextureLoader().load("Photos/lens.png");
lensTexture.colorSpace=THREE.SRGBColorSpace;
lensTexture.anisotropy=renderer.capabilities.getMaxAnisotropy();

const lensGeo=new THREE.PlaneGeometry(5.6,5.6);
const lensMat=new THREE.MeshStandardMaterial({
  map:lensTexture,
  transparent:true,
  roughness:0.6,
  metalness:0.05
});

const lens=new THREE.Mesh(lensGeo,lensMat);
lens.position.y=-2.2; // crop bottom
scene.add(lens);

let lastY=0;
let roll=0;
let lastX=0;
function render(){
  const vel=smoothY-lastY;
  lastY=smoothY;

  const stopAt=2/3; // end of pillar 02
  const exitAt=0.8; // wait a bit into pillar 03 before sliding out
  const moveT=clamp(progress/stopAt,0,1);
  const exitT=clamp((progress-exitAt)/(1-exitAt),0,1);
  const moving=progress<=stopAt;
  const exiting=progress>=exitAt;

  const targetX=moving
    ? lerp(-1.6,1.6,moveT)
    : (exiting ? lerp(1.6,-4.5,exitT) : 1.6);

  roll+=(targetX-lastX)*-0.9;
  lastX=targetX;
  lens.rotation.set(0,0,roll);
  lens.position.x=targetX;

  renderer.render(scene,camera);
  requestAnimationFrame(render);
}
render();
</script>

</body>
</html>
